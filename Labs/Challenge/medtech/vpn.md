# VPN

## 手順
1. 192.~なので外部からアクセスでき、SSHがあいてる。
2. この時点で、ターゲットドメインのユーザリストは一応持っておくといい。(実際にアクセスに使うのはoffsecユーザ)
3. SSHに対してhydraでrockyou.txtをつかってbruteすると、passwordという文字列で入れるのが分かりfoothold獲得。
4. offsecユーザの権限が低すぎて、まともにlinuxのコマンドを打てない。とりあえずsudo -lするとopenvpnコマンドをroot権限で実行できることが分かる。
5. GTFObinsでopenvpnコマンドから権限昇格するコマンドを調べてぶっぱなせばおわり。
6. その後別マシンに横展開する際に使える情報としては、/etc/shadowやsshの秘密鍵等がある。ここでは、marioユーザのid_rsaだけscpでローカルに転送しておき、あとで使えないか試すのが良い。「大事なのは、とりあえずローカルユーザの秘密鍵とパスワード情報は後の横展開のためにとっておこう」という発想に至ること。